<?xml version="1.0" encoding="UTF-8"?>
<kbox
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:geospace="http://www.integratedmodelling.org/ks/geospace/geospace.owl#"
	xmlns:geofeatures="http://www.integratedmodelling.org/ks/geospace/geofeatures.owl#"
	xmlns:geophysics="http://www.integratedmodelling.org/ks/geospace/geophysics.owl#"
	xmlns:measurement="http://www.integratedmodelling.org/ks/science/measurement.owl#"
	xmlns:observation="http://www.integratedmodelling.org/ks/science/observation.owl#"
	xmlns:metadata="http://www.integratedmodelling.org/ks/metadata/metadata.owl#"
	xmlns:floodService="http://www.integratedmodelling.org/ks/es/services/floodService.owl#"
	xmlns:carbonService="http://www.integratedmodelling.org/ks/es/services/carbonService.owl#"
	xmlns:conservation="http://www.integratedmodelling.org/ks/policy/conservation.owl#"
	xmlns:nlcd="http://www.integratedmodelling.org/ks/lulc/nlcd.owl#"
	xmlns:habitat="http://www.integratedmodelling.org/ks/ecology/habitat.owl#"
	xmlns:ecology="http://www.integratedmodelling.org/ks/ecology/ecology.owl#"
	xmlns:economics="http://www.integratedmodelling.org/ks/economics/economics.owl#"
	xmlns:puget="http://www.integratedmodelling.org/ks/es/services/local/puget.owl#"
	xmlns:infrastructure="http://www.integratedmodelling.org/ks/lulc/infrastructure.owl#"
	xmlns:representation="http://www.integratedmodelling.org/ks/science/representation.owl#">
	
	<!-- Altitude data from WCS service at ICEDS (90m SRTM DEM) 
	<measurement:Measurement id="Altitude">
		<observation:hasObservable>
			<geophysics:Altitude />
		</observation:hasObservable>
		<measurement:unit>m</measurement:unit>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://iceds.ge.ucl.ac.uk/cgi-bin/icedswcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>srtm</geospace:hasCoverageId>
				<geospace:hasImageFormat>geotiff_int16</geospace:hasImageFormat>
				<geospace:hasNodataValue>-32768.0</geospace:hasNodataValue>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>432000</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>140399</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>-56.0</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-180.0</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>61.0</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>180.0</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Measurement> -->
	
	<measurement:Measurement id="Altitude">
		<observation:hasObservable>
			<geophysics:Altitude />
		</observation:hasObservable>
		<measurement:unit>m</measurement:unit>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:elevation</geospace:hasCoverageId>
				<geospace:hasNodataValue>-32768.0</geospace:hasNodataValue>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>12622</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>11258</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>45.963</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-125.118</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>49.038</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-119.94</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Measurement>		
		
	<!-- protected status from national WDPA database, used as a presence/absence coverage -->
	<measurement:Ranking id="WPA2a">
	
		<observation:hasObservable>
			<conservation:ProtectedStatus />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>global:wdpa2a</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>-68.65255775673205</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-179.99999963965692</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>83.7299995730599</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>179.9995396992789</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- floodplains in Chehalis watershed from shape coverage, 
		seen as a presence/absence ranking -->
	<measurement:Ranking id="chehalis_floodplain">
	
		<observation:hasObservable>
			<floodService:Floodplains />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetfloodplain</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>45.85062453730272</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-124.75110953315713</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>48.99989805456198</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-121.02121600590496</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- landuse category from property data, used as a 1/0 coverage -->
	<observation:Categorization id="chehalis_housing">
	
		<observation:hasObservable>
			<puget:ParcelUseCategoryGraysHarbor />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetparcelsgraysharbor</geospace:hasCoverageId>
				<geospace:hasValueAttribute>landuse2</geospace:hasValueAttribute>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:32049</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>543740.5</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>1048695.875</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>825691.1875</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1337075.875</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</observation:Categorization>
	
	<!-- status of rain on snow precipitation in WA -->
	<observation:Categorization id="puget_rain_on_snow">
	
		<observation:hasObservable>
			<puget:SnowPrecipitationCategory />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetrainonsnow</geospace:hasCoverageId>
				<geospace:hasValueAttribute>precip_sno</geospace:hasValueAttribute>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>84480.0</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>605611.25</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1356334.875</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2551495.75</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</observation:Categorization>
	
	<!-- landuse category from property data, used as a 1/0 coverage -->
	<observation:Categorization id="puget_soilgroup">
	
		<observation:hasObservable>
			<!--  TODO this should represent the concept of landuse expressed in that attribute of property data -->
			<floodService:HydrologicSoilsGroup />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugethydrologicsoilsgroup</geospace:hasCoverageId>
				<geospace:hasValueAttribute>hydgrpdcd</geospace:hasValueAttribute>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:26910</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>5077470.5</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>374335.96875</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>5435820.5</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>806557.9375</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</observation:Categorization>
	
	<!-- NLCD categories for Puget region -->
	<measurement:Ranking id="puget_nlcd">
		<observation:hasObservable>
			<nlcd:NLCDNumeric />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:NCLDKing</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>26024</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>31326</geospace:hasYRangeMax>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>40.1420532</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-127.2639418</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>50.1177680</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-114.5863185</geospace:hasLonUpperBound>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- highways in Chehalis watershed from shape coverage, 
		 seen as a presence/absence ranking -->
	<measurement:Ranking id="puget_highways">
	
		<observation:hasObservable>
			<infrastructure:Highway />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugethighways</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>87414.6015625</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>637163.0</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1353168.875</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2514549.75</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
		
	<!-- railways in Chehalis watershed from shape coverage, seen as a presence/absence ranking -->
	<measurement:Ranking id="puget_railways">
	
		<observation:hasObservable>
			<infrastructure:Railway />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetrail</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>86930.984375</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>786330.6875</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1350041.125</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2512613.25</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- Slope in degrees for Puget Sound -->
	<measurement:Ranking id="PugetSlope">
		<observation:hasObservable>
			<geophysics:DegreeSlope />
		</observation:hasObservable>
		<measurement:unit>°</measurement:unit>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:Slope_Combined</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>12620</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>11257</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>5094045.61</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>345136.427</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>5431785.61</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>723766.427</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:26910</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- bridges in Chehalis watershed from shape coverage, 
		 seen as a presence/absence ranking -->
	<measurement:Ranking id="puget_bridges">
	
		<observation:hasObservable>
			<infrastructure:Bridge />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetbridges</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>88246.4453125</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>648284.375</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1344600.875</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2513722.0</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
		
	<!-- levees in Chehalis watershed from shape coverage, 
		 seen as a presence/absence ranking -->
	<measurement:Ranking id="puget_levees">
	
		<observation:hasObservable>
			<infrastructure:Levee />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetlevees</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>397939.875</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>925800.75</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>894250.8125</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1430108.875</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
		
	<!-- January total precipitation in WA. TODO: I think it's monthly totals in Jan - this
	     should obviously be specified using time extents both in querying and storing.  -->
	<measurement:Measurement id="puget_precipitation_january">
	
		<observation:hasObservable>
			<habitat:Precipitation />
		</observation:hasObservable>
		
		<measurement:unit>in</measurement:unit>
		
		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:precipjan</geospace:hasCoverageId>
				<geospace:hasValueAttribute>range</geospace:hasValueAttribute>
				<!-- the shapefile wrongly states that the attribute is a String -->
				<geospace:hasValueType>thinklab-core:Number</geospace:hasValueType>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:4269</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>45.5477447509766</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-124.762580871582</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>49.0024948120117</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-116.915573120117</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
			<!-- TODO add time span -->
		</observation:hasObservationExtent>
	</measurement:Measurement>	
		
	<!-- TODO make this temporal as appropriate -->
	<measurement:Ranking id="global_temperature_january">
		<observation:hasObservable>
			<geophysics:GroundSurfaceTemperature />
		</observation:hasObservable>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>global:tmp_jan</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>2155</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>854</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>-59.1665</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-180.0005</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>83.6185</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>180.05150000000003</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>		
		
	<!-- Numeric ranking of successional stage -->
	<measurement:Ranking id="puget_successional_stage">
		<observation:hasObservable>
			<ecology:SuccessionalStage />
		</observation:hasObservable>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:SuccessionalStage</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>12029</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>16010</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>5035612.5</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>365037.5</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>5435887.5</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>665787.5</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:26710</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>		
	
	<!--  -->
	<measurement:Ranking id="puget_impervious_surfaces">
		<observation:hasObservable>
			<habitat:PercentImperviousness />
		</observation:hasObservable>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:impervious</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>33757</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>37544</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>4441450.408428492</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>184671.999278421</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>5567800.408428492</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1197411.999278421</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:26910</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- projection needs to be set in geotools
	<measurement:Measurement id="puget_vegetation_height">
		<measurement:unit>ft</measurement:unit>
		<observation:hasObservable>
			<habitat:VegetationHeight />
		</observation:hasObservable>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:vegHt</geospace:hasCoverageId>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>2561</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>510</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>1557470.1133952795</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>3321194.1450003847</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1722488.5825707817</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>4148547.01785063</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>ESRI:102749</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Measurement>  -->
	
	<!--  -->
	<measurement:Ranking id="puget_canopy_cover">
		<observation:hasObservable>
			<habitat:PercentCanopyCover />
		</observation:hasObservable>
		<observation:hasDataSource>
			<geospace:WCSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wcs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:canopy1_011007_Project_1</geospace:hasCoverageId>
				<geospace:hasNodataValue>127</geospace:hasNodataValue>
			</geospace:WCSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:RasterGrid>
				<geospace:hasXRangeMax>32069</geospace:hasXRangeMax>
				<geospace:hasYRangeMax>25363</geospace:hasYRangeMax>
				<geospace:hasLatLowerBound>40.121768696724</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-127.24289</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>50.1137582</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-114.60911364887001</geospace:hasLonUpperBound>
				<geospace:hasCoordinateReferenceSystem>EPSG:4326</geospace:hasCoordinateReferenceSystem>
			</geospace:RasterGrid>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- lakes in Puget sound from shape coverage, 
		 seen as a presence/absence ranking -->
	<measurement:Ranking id="puget_lakes">
	
		<observation:hasObservable>
			<geofeatures:Lake />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetlake</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>102131.5</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>618565.375</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1367281.5</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2591186.75</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- clearcuts in Puget sound from shape coverage, 
		 seen as a presence/absence ranking -->	
	<measurement:Ranking id="puget_clearcuts">
		<observation:hasObservable>
			<geofeatures:Clearcut />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:clearcuts_puget</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2855</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>92233.43</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>620108.188</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1350701.875</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>2514300.75</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- ocean in Puget sound from shape coverage, 
		 seen as a presence/absence ranking. This one comes from a complicated attribute so
		 we remap the value directly in the observation. -->
	<measurement:RankingSetRemapper
		measurement:hasDefaultValue="0" measurement:hasMapping="1:1" id="puget_ocean">
	
		<observation:hasObservable>
			<geofeatures:Ocean />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetocean</geospace:hasCoverageId>
				<geospace:hasValueAttribute>water_cd</geospace:hasValueAttribute>
				<geospace:hasValueType>thinklab-core:Number</geospace:hasValueType>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2927</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>-92706.281</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>478794.375</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>1383059.75</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1449837.125</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:RankingSetRemapper>
	
	
	<!-- TODO this should be an economic value measurement with date and currency, not a 
	     dumb ranking -->
	<measurement:Ranking id="king_property_value">
	
		<observation:hasObservable>
			<economics:AppraisedPropertyValue />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetparcelsking</geospace:hasCoverageId>
				<geospace:hasValueAttribute>totapprval</geospace:hasValueAttribute>
				<geospace:hasValueType>thinklab-core:LongFloatingPoint</geospace:hasValueType>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2926</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>30932.6796875</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>1218256.875</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>287704.25</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1577865.375</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- thanks WA counties for doing it differently, all of you -->
	<observation:Categorization id="king_presence_of_housing">

		<observation:hasObservable>
			<puget:ParcelUseCategoryKing />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetparcelsking</geospace:hasCoverageId>
				<geospace:hasValueAttribute>proptype</geospace:hasValueAttribute>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2926</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>30932.6796875</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>1218256.875</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>287704.25</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>1577865.375</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</observation:Categorization>
	
	<!-- TODO check if it should be a measurement and the observable should be in a
		more general ontology.
		NOTE this is a point layer, which sucks.
	 -->
	<measurement:Ranking id="us_damstorage">
	
		<observation:hasObservable>
			<floodService:DamStorage />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetdams</geospace:hasCoverageId>
				<geospace:hasValueAttribute>sto_differ</geospace:hasValueAttribute>
				<geospace:hasValueType>thinklab-core:LongFloatingPoint</geospace:hasValueType>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:4269</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>18.0172996520996</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-162.877822875977</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>68.0694046020508</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-66.0149993896484</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- presence/absence of detention basins.
		NOTE this is a point layer, which sucks.
	 -->
	<measurement:Ranking id="puget_detention_basins_storage">
	
		<observation:hasObservable>
			<infrastructure:DetentionBasin />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:pugetdetentionbasins</geospace:hasCoverageId>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:2926</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>-31600.9375</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>1075246.25</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>68.0694046020508</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>627954.375</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
	<!-- mean days of precipitation. One of those sucky puget-specific shapefiles.
	     TODO this is actually non puget-specific so the concept should be in an ontology
	     for whatever authority publishes this.
	     TODO solve the time issue when things calm down.
	 -->
	<measurement:Ranking id="days_of_precipitation_code_january">
	
		<observation:hasObservable>
			<puget:DaysOfPrecipitationGridcode />
		</observation:hasObservable>

		<observation:hasDataSource>
			<geospace:WFSDataSource>
				<geospace:hasServiceUrl>http://ecoinformatics.uvm.edu/geoserver/wfs</geospace:hasServiceUrl>
				<geospace:hasCoverageId>puget:meandaysprecipjan</geospace:hasCoverageId>
				<geospace:hasValueAttribute>gridcode</geospace:hasValueAttribute>
				<geospace:hasValueType>thinklab-core:LongFloatingPoint</geospace:hasValueType>
			</geospace:WFSDataSource>
		</observation:hasDataSource>
		<observation:hasObservationExtent>
			<geospace:ArealFeatureSet>
				<geospace:hasCoordinateReferenceSystem>EPSG:4609</geospace:hasCoordinateReferenceSystem>
				<geospace:hasLatLowerBound>24.4630870819092</geospace:hasLatLowerBound>
				<geospace:hasLonLowerBound>-124.802490234375</geospace:hasLonLowerBound>
				<geospace:hasLatUpperBound>49.4254341125488</geospace:hasLatUpperBound>
				<geospace:hasLonUpperBound>-66.9145584106445</geospace:hasLonUpperBound>
			</geospace:ArealFeatureSet>
		</observation:hasObservationExtent>
	</measurement:Ranking>
	
</kbox>